---
description: Conventional commit format and commit checklist
alwaysApply: false
---
# Git Commit Rules

Use this rule when the user explicitly requests commit/push work.

Spec: [Conventional Commits 1.0.0](https://www.conventionalcommits.org/en/v1.0.0/)

## Commit Message Format

```
type(scope): description

[optional body]

[optional footer(s)]
```

- **type**: `feat`, `fix`, `docs`, `style`, `refactor`, `perf`, `test`, `build`, `ci`, `chore`, `revert`
- **scope**: optional noun (e.g. `panel`, `api`, `i18n`)
- **description**: short summary; imperative mood, lowercase, no trailing period

## Line Length

- **Subject**: 50 characters or less (tools truncate; GitHub warns at 50).
- **Body**: wrap at 72 characters (fits 80‑col terminal and email).

## Examples

✅ **Good:**
```
feat(gadgets): add script move action
fix(api): handle empty gadget list response
docs(readme): clarify local setup steps
```

✅ **With body (reason, not changelog):**
```
feat(panel): list scripts by key and show sources

Use stable keys so toggles and state stay correct. Show where each
script is loaded from.
```

❌ **Bad:**
```
fixed bug.
updates
WIP
```

## Quality Gates Before Commit

1. Run `npm run lint`.
2. Stage only relevant files.
3. One logical change per commit (atomic).
4. Subject: imperative, lowercase, no period, ≤50 chars.
5. Body: explain why / context; wrap at 72 chars.

## Breaking Changes

Use footer or `!` after type/scope:

```
feat(api): change parameter format

BREAKING CHANGE: The API now requires 'class' instead of 'rating'
```

```
feat(api)!: require 'class' parameter
```

## Footers

- `BREAKING CHANGE: description` — MAJOR bump.
- `Closes #123` / `Refs #123` — link to issues (optional).

## Branch Naming (if creating branches)

- `feature/description` — new features
- `fix/description` — bug fixes
- `docs/description` — documentation
- `refactor/description` — refactoring
- `chore/description` — maintenance
